{"version":3,"sources":["webpack:///src/views/enclosure/enclosure.vue","webpack:///./src/views/enclosure/enclosure.vue?b6ad","webpack:///./src/views/enclosure/enclosure.vue"],"names":["enclosure","computed","extends_default","Object","vuex_esm","getdata","_this","this","$http","get","mapKey","then","res","data","rs_list","catch","err","_this2","item","messageBox","confirm","action","post","gid","enclosure_enclosure","render","_vm","_h","$createElement","_c","_self","attrs","title","staticClass","slot","tag","to","_v","id","list","length","_l","index","key","name","label","alert_condition","right","content","style","background","color","handler","deletes","is-link","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"+JAwBAA,oCAOAC,SAAAC,OAAAC,OAAAC,EAAA,EAAAD,EAEA,sCAEAE,qGAKA,iDAGA,kEAKA,iDAGA,wCAMA,IAAAC,EAAAC,UAEAC,MAAAC,IAAA,6DAKAC,UAJAC,KAAA,SAAAC,WAMAC,2CAEA,eACA,uBAGAC,UAEAC,MAAA,SAAAC,WAEA,+BAGA,IAAAC,EAAAV,iBACAW,QAEAC,WAAAC,QACA,YAAAT,KAAA,SAAAU,KAEAb,MAAAc,KAAA,gDAAAL,EAAAP,OAAA,QAAAQ,EACAK,IAAA,kBAAAZ,KAAA,SAAAC,sCAKA,UAEAG,MAAA,SAAAH,WAEA,YAEAG,MAAA,SAAAC,eAEAA,yCAoBA,MC9GAQ,GADiBC,OARjB,WAA0B,IAAAC,EAAAnB,KAAaoB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,aAAiCE,OAAOC,MAAA,UAAgBH,EAAA,eAAoBI,YAAA,aAAAF,OAAgCG,KAAA,QAAAC,IAAA,OAAAC,GAAA,YAA4CF,KAAA,WAAc,GAAAR,EAAAW,GAAA,KAAAR,EAAA,OAA4BE,OAAOO,GAAA,cAAiB,GAAAZ,EAAAa,KAAAC,OAAAd,EAAAe,GAAAf,EAAA,cAAAR,EAAAwB,GAA8D,OAAAb,EAAA,iBAA2Bc,IAAAzB,EAAAK,IAAAQ,OAAoBC,MAAAd,EAAA0B,KAAAC,MAAA,KAAA3B,EAAA4B,gBAAA,gBAAAV,GAAA,gBAAAlB,EAAA,WAAAA,EAAA,GAAA6B,QAEhaC,QAAA,KACAC,OAAaC,WAAA,MAAAC,MAAA,QACbC,QAAA,WAA2B,OAAA1B,EAAA2B,QAAAnC,MAE3BoC,UAAA,QAAmB5B,EAAA6B,MAAA,QAEFC,oBCLjB,IAcAC,EAdAC,EAAA,OAcAC,CACA3D,EACAwB,GATA,EAVA,SAAAoC,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/3.f2f2a1ebcd36271294a5.js","sourcesContent":["<template>\n  <div>\n    <mt-header title=\"电子围栏\">\n      \n    <router-link tag=\"span\" class=\"fa fa-plus\" slot=\"right\" to=\"/editMap\"></router-link>\n    </mt-header>\n    <div id=\"contaner\">\n      <template v-if=\"list.length!=0\">\n <mt-cell-swipe v-for=\"(item,index) in list\" :key=\"item.gid\" :title=\"item.name\"  :label=\"item.alert_condition=='0'?'进围栏报警':'离开栏报警'\" :to=\"`/editMap?gid=${item.gid}&id=${item.id}`\"\n         :right=\"[\n    {\n      content: '删除',\n      style: { background: 'red', color: '#fff' },\n      handler: () => deletes(item)\n    }\n  ]\"\n         is-link></mt-cell-swipe>\n      </template>\n       \n    </div>\n  </div>\n</template>\n<script>\n  import {mapGetters} from \"vuex\";\nexport default {\n  data() {\n    return {\n      list: []\n    };\n  },\n  computed: {\n    ...mapGetters([\"userInfo\"])\n  },\n  created() {\n    this.getdata();\n    //调用app方法\n    var ua = navigator.userAgent.toLowerCase();//获取当前设备信息\n    if (/iphone|ipad|ipod/.test(ua)) {//如果是ios\n      try{\n        window.toggleNav('');\n      }catch (e){\n        if (e instanceof TypeError){\n          console.log('无该函数方法')\n        }\n      }\n    } else if (/android/.test(ua)) {//安卓\n      try{\n        window.clientJS.toggleNav('');\n      }catch (e){\n        if (e instanceof TypeError){\n          console.log('无该函数方法')\n        }\n      }\n    }\n  },\n  methods: {\n    getdata() {\n      //获取列表数据\n      this.$http\n        .get(`http://restapi.amap.com/v4/geofence/meta`, {\n          params: {\n            key:this.mapKey\n          }\n        })\n        .then(res => {\n          let data = res.data;\n          if(data.data.rs_list.length==0){\n              this.basicinfo = '暂无数据';\n              this.toast('暂无数据')\n          }else{\n\n            this.list = data.data.rs_list;\n          }\n        })\n        .catch(err => {\n          this.toast(\"查询失败\");\n        });\n    },\n    deletes(item) {\n      console.log(item);\n      //删除操作\n      this.messageBox\n        .confirm(\"确定执行此操作?\")\n        .then(action => {\n          this.$http\n            .post(`http://restapi.amap.com/v4/geofence/meta?key=${this.mapKey}&gid=${item.gid}&method=delete`)\n            .then(res => {\n              if (res.data.data.message == \"成功\") {\n                // this.deleteServer(item);\n              }else{\n                this.toast(\"操作失败\");\n              }\n            })\n            .catch(res => {\n              this.toast(\"操作失败\");\n            });\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    // deleteServer(item) {//删除服务器上数据\n    //   this.$http\n    //     .post(`${this.HOST}/post/deleteEnclosure`, {\n    //       userToken: this.userInfo.userToken,\n    //       id: item.id\n    //     })\n    //     .then(res => {\n    //       if (res.data.code == \"000000\") {\n    //         this.toast(res.data.msg);\n    //         this.getdata();\n    //       }\n    //     })\n    //     .catch(res => {\n    //       this.toast(\"操作失败\");\n    //     });\n    // },\n    goback(){\n      this.$router.go(-1)\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"../../assets/sass/_mixins.scss\";\n@import \"../../assets/sass/_parameters.scss\";\n#contaner {\n  .mint-cell-text {\n    color: $enclosure-color !important;\n  }\n}\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/enclosure/enclosure.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{attrs:{\"title\":\"电子围栏\"}},[_c('router-link',{staticClass:\"fa fa-plus\",attrs:{\"slot\":\"right\",\"tag\":\"span\",\"to\":\"/editMap\"},slot:\"right\"})],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"contaner\"}},[(_vm.list.length!=0)?_vm._l((_vm.list),function(item,index){return _c('mt-cell-swipe',{key:item.gid,attrs:{\"title\":item.name,\"label\":item.alert_condition=='0'?'进围栏报警':'离开栏报警',\"to\":(\"/editMap?gid=\" + (item.gid) + \"&id=\" + (item.id)),\"right\":[\n   {\n     content: '删除',\n     style: { background: 'red', color: '#fff' },\n     handler: function () { return _vm.deletes(item); }\n   }\n ],\"is-link\":\"\"}})}):_vm._e()],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-967e24ea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/enclosure/enclosure.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-967e24ea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./enclosure.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./enclosure.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./enclosure.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-967e24ea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./enclosure.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-967e24ea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/enclosure/enclosure.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}